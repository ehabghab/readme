# Millisampler Logs
This repo contains a portion of the dataset (1-hour) collected by Millisampler tool to characterize data centers traffic at 1ms time-scale.
Please cite our IMC 2022 paper if you use this dataset:  
[![doi](https://img.shields.io/badge/DOI-10.1145%2F3517745.3561430-brightgreen)](https://dl.acm.org/doi/abs/10.1145/3517745.3561430)

## Filename Convention
We used the following convetion to name the log files:
```rackId_<RID>_hostId_<HID>```  
RID is an anonymized ID generated by us which used to identify rack.  
HID is an anonymized ID generated by us which used to identify hosts within a single rack \<RID\>.   

**All hosts within the same rack will have the same RID.**    
*Please note that hostId does NOT represent the number of servers in the rack.*

## Host-Log Format 
Each host log (i.e. rackId_<RID>_hostId_<HID>.txt) corresponds to a millisampler run which consists of 2000 samples.

```2022-01-11_04-32-12
.
├── rack_id
├── server_hostname
├── tw_tasks
├── exp_timestamp: This is the start time of data collection process [<year>-<month>-<day>_<hour>-<min>-<sec>]. This is NOT the sample time.
├── sampling_freq: This corresponds to the sampling interval used to collect data samples, it should 1000Hz (1ms) for this dataset.
├── connections: 2000 samples array, each entry corresponds to the number of active connections per 1ms sample.
├── egressBytes: 2000 samples array, each entry corresponds to the total number of bytes sent at egress per 1ms sample.
├── inCongestionExperiencedBytes: 2000 samples array, each entry correspnds to the total number of bytes received at ingress with ECN marks per 1ms sample.
├── inRxmitBytes: 2000 samples array, each entry corresponds to the total number of retransmitted bytes received at ingress per 1ms sample.
├── outRxmitBytes: 2000 samples array, each entry corresponds to the total number of retransmitted bytes sent at egress per 1ms sample.
├── ingressBytes: 2000 samples array, each entry corresponds to the total number of bytes received at ingress per 1ms sample.
└── burst_result: This contains burst properties for each bursts captured during the sampling period of 2000ms. 
    ├── traffic direction <ingress or egress>: for this data set we only look at ingress bursts
        ├── sample timestamp: This is the start time of collecting this run.
            | list of burst properties per burst
            ├── Length: burst length in ms.
            ├── Position: burst index relative to the run. 
            ├── avgConnections: average number of connections during the burst (sum[connections during burst samples]/Length). 
            ├── maxConnections: Maximum  
            ├── maxConnAfterBurst 
            ├── ingressVol 
            ├── ingressHeightP95 
            ├── ingressMax 
            ├── ingressAfterBurst 
            ├── ingressRetxVol 
            ├── ingressRetxAfterBurst 
            ├── FirstRetxPosition
            ├── LastRetxPosition 
            ├── ecnVol 
            ├── ecnP90 
            ├── ecnP99 
            └── ecnAfterBurst 
 
```
